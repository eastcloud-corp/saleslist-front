(()=>{var e={};e.id=191,e.ids=[191],e.modules={189:(e,t,s)=>{"use strict";s.d(t,{Bc:()=>i,ZI:()=>l,k$:()=>d,m_:()=>o});var r=s(687);s(3210);var n=s(5410),a=s(6241);function i({delayDuration:e=0,...t}){return(0,r.jsx)(n.Kq,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function o({...e}){return(0,r.jsx)(i,{children:(0,r.jsx)(n.bL,{"data-slot":"tooltip",...e})})}function d({...e}){return(0,r.jsx)(n.l9,{"data-slot":"tooltip-trigger",...e})}function l({className:e,sideOffset:t=0,children:s,...i}){return(0,r.jsx)(n.ZL,{children:(0,r.jsxs)(n.UC,{"data-slot":"tooltip-content",sideOffset:t,className:(0,a.cn)("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...i,children:[s,(0,r.jsx)(n.i3,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}},224:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/app/app/companies/new/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/app/app/companies/new/page.tsx","default")},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2571:(e,t,s)=>{"use strict";s.d(t,{MainLayout:()=>k});var r=s(687),n=s(3210),a=s(6189),i=s(8865),o=s(1862);function d({children:e}){let{isAuthenticated:t,isLoading:s}=(0,i.A)();return((0,a.useRouter)(),s)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(o.A,{className:"h-6 w-6 animate-spin"}),(0,r.jsx)("span",{children:"Loading..."})]})}):t?(0,r.jsx)(r.Fragment,{children:e}):null}var l=s(5814),c=s.n(l),u=s(6241),p=s(4934),h=s(3411),m=s(1312),x=s(8179),f=s(7313),g=s(4027),v=s(1860),b=s(2941),j=s(83),y=s(189);let w=[{name:"ダッシュボード",href:"/dashboard",icon:h.A},{name:"クライアント",href:"/clients",icon:m.A},{name:"案件",href:"/projects",icon:x.A},{name:"企業管理",href:"/companies",icon:f.A},{name:"設定",href:"/settings",icon:g.A}];function N(){let[e,t]=(0,n.useState)(!1),s=(0,a.usePathname)(),{user:o,logout:d}=(0,i.A)(),l=async()=>{await d()};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:(0,r.jsx)(p.$,{variant:"outline",size:"icon",onClick:()=>t(!e),children:e?(0,r.jsx)(v.A,{className:"h-4 w-4"}):(0,r.jsx)(b.A,{className:"h-4 w-4"})})}),(0,r.jsx)("div",{className:(0,u.cn)("fixed inset-y-0 left-0 z-40 w-64 bg-sidebar border-r border-sidebar-border transform transition-transform duration-200 ease-in-out lg:translate-x-0",e?"translate-x-0":"-translate-x-full"),children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsx)("div",{className:"flex items-center justify-center h-16 px-4 border-b border-sidebar-border",children:(0,r.jsx)("h1",{className:"text-lg font-bold text-sidebar-foreground",children:"セールスナビゲーター"})}),(0,r.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-2",children:w.map(e=>{let n=s.startsWith(e.href);return(0,r.jsxs)(c(),{href:e.href,className:(0,u.cn)("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",n?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"),onClick:()=>t(!1),children:[(0,r.jsx)(e.icon,{className:"mr-3 h-5 w-5"}),e.name]},e.name)})}),(0,r.jsxs)("div",{className:"p-4 border-t border-sidebar-border space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-sidebar-primary rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-xs font-medium text-sidebar-primary-foreground",children:o?.name?.charAt(0)||"U"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-sidebar-foreground truncate",title:o?.name||void 0,children:o?.name||"ユーザー"}),o?.email?(0,r.jsxs)(y.m_,{children:[(0,r.jsx)(y.k$,{asChild:!0,children:(0,r.jsx)("p",{className:"text-xs text-muted-foreground break-all leading-snug cursor-default",title:o.email,children:o.email})}),(0,r.jsx)(y.ZI,{side:"top",align:"start",children:(0,r.jsx)("span",{children:o.email})})]}):null]})]}),(0,r.jsxs)(p.$,{"aria-label":"ログアウト",variant:"outline",size:"sm",onClick:l,className:"w-full justify-center gap-2 text-sidebar-foreground hover:text-sidebar-accent-foreground",children:[(0,r.jsx)(j.A,{className:"h-4 w-4"}),"ログアウト"]})]})]})}),e&&(0,r.jsx)("div",{className:"fixed inset-0 z-30 bg-black bg-opacity-50 lg:hidden",onClick:()=>t(!1)})]})}function k({children:e}){return(0,r.jsx)(d,{children:(0,r.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,r.jsx)(N,{}),(0,r.jsx)("main",{className:"flex-1 lg:ml-64 overflow-auto",children:(0,r.jsx)("div",{className:"p-6 lg:p-8 pt-16 lg:pt-8",children:e})})]})})}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4192:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l});var r=s(5239),n=s(8088),a=s(8170),i=s.n(a),o=s(893),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);s.d(t,d);let l={children:["",{children:["companies",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,224)),"/app/app/companies/new/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8014)),"/app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/app/app/companies/new/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/companies/new/page",pathname:"/companies/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},4726:(e,t,s)=>{Promise.resolve().then(s.bind(s,9818))},4934:(e,t,s)=>{"use strict";s.d(t,{$:()=>d,r:()=>o});var r=s(687);s(3210);var n=s(1329),a=s(4224),i=s(6241);let o=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d({className:e,variant:t,size:s,asChild:a=!1,...d}){let l=a?n.DX:"button";return(0,r.jsx)(l,{"data-slot":"button",className:(0,i.cn)(o({variant:t,size:s,className:e})),...d})}},4974:(e,t,s)=>{Promise.resolve().then(s.bind(s,224))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9266:(e,t,s)=>{"use strict";s.d(t,{uE:()=>a});class r extends Error{constructor(e,t,s){super(e),this.status=t,this.response=s,this.name="ApiError"}}class n{getAuthHeaders(){return{}}async refreshToken(){return Promise.resolve()}clearTokens(){}async handleResponse(e,t,s){return this.processResponse(e)}async processResponse(e){if(!e.ok){await this.handleUnauthorized(e.status);let t=`HTTP ${e.status}: ${e.statusText}`;try{let s=await e.json();t=s.message||s.error||t}catch{}throw new r(t,e.status,e)}let t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():e.text()}async handleUnauthorized(e){}buildUrl(e){let t=(process.env.NEXT_INTERNAL_API_URL||process.env.NEXT_PUBLIC_API_URL)+"/api/v1";return`${t}${e}`}async makeRequest(e,t){return fetch(this.buildUrl(e),{...t,headers:{...t.headers,...this.getAuthHeaders()}})}async get(e,t){let s={method:"GET",headers:{"Content-Type":"application/json",...t?.headers},...t},r=await this.makeRequest(e,s);return this.handleResponse(r,e,s)}async post(e,t,s){let r={method:"POST",headers:{"Content-Type":"application/json",...s?.headers},body:t?JSON.stringify(t):void 0,...s},n=await this.makeRequest(e,r);return this.handleResponse(n,e,r)}async put(e,t,s){let r={method:"PUT",headers:{"Content-Type":"application/json",...s?.headers},body:t?JSON.stringify(t):void 0,...s},n=await this.makeRequest(e,r);return this.handleResponse(n,e,r)}async patch(e,t,s){let r={method:"PATCH",headers:{"Content-Type":"application/json",...s?.headers},body:t?JSON.stringify(t):void 0,...s},n=await this.makeRequest(e,r);return this.handleResponse(n,e,r)}async delete(e,t){let s={method:"DELETE",headers:{"Content-Type":"application/json",...t?.headers},...t},r=await this.makeRequest(e,s);return this.handleResponse(r,e,s)}async uploadFile(e,t,s){let r=new FormData;r.append("file",t),s&&Object.entries(s).forEach(([e,t])=>{r.append(e,String(t))});let n={method:"POST",body:r},a=await this.makeRequest(e,n);return this.handleResponse(a,e,n)}async downloadFile(e){let t=await this.makeRequest(e,{method:"GET"});if(!t.ok)throw new r(`Failed to download file: ${t.statusText}`,t.status,t);return t.blob()}constructor(){this.retryCount=0,this.maxRetries=0,this.isRefreshingToken=!1,this.refreshPromise=null,this.isHandlingUnauthorized=!1}}let a=new n},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9818:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(687),n=s(6189),a=s(5814),i=s.n(a),o=s(2571),d=s(2847),l=s(4934),c=s(8559),u=s(9266),p=s(1702);function h(){let e=(0,n.useRouter)(),{toast:t}=(0,p.dj)(),s=async s=>{try{let r=await u.uE.post("/companies/",s);t({title:"企業作成成功",description:`企業「${r?.name||"新規企業"}」を作成しました`}),e.push("/companies?refresh=true")}catch(e){t({title:"企業作成失敗",description:"企業の作成に失敗しました。もう一度お試しください。",variant:"destructive"})}};return(0,r.jsx)(o.MainLayout,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(l.$,{variant:"outline",asChild:!0,children:(0,r.jsxs)(i(),{href:"/companies",children:[(0,r.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"企業一覧に戻る"]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"新規企業登録"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"新しい企業をデータベースに追加"})]})]}),(0,r.jsx)(d.A,{onSave:s,onCancel:()=>{e.push("/companies")}})]})})}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[188,525,133,208,628,365],()=>s(4192));module.exports=r})();