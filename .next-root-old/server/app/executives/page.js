(()=>{var e={};e.id=660,e.ids=[660],e.modules={807:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/app/app/executives/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/app/app/executives/page.tsx","default")},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3544:(e,t,s)=>{"use strict";s.d(t,{k:()=>b});var a=s(687),r=s(3210);s(1215);var n=s(1329),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let s=(0,n.TL)(`Primitive.${t}`),o=r.forwardRef((e,r)=>{let{asChild:n,...o}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(n?s:t,{...o,ref:r})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),i="Progress",[l,d]=function(e,t=[]){let s=[],n=()=>{let t=s.map(e=>r.createContext(e));return function(s){let a=s?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...s,[e]:a}}),[s,a])}};return n.scopeName=e,[function(t,n){let o=r.createContext(n),i=s.length;s=[...s,n];let l=t=>{let{scope:s,children:n,...l}=t,d=s?.[e]?.[i]||o,c=r.useMemo(()=>l,Object.values(l));return(0,a.jsx)(d.Provider,{value:c,children:n})};return l.displayName=t+"Provider",[l,function(s,a){let l=a?.[e]?.[i]||o,d=r.useContext(l);if(d)return d;if(void 0!==n)return n;throw Error(`\`${s}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=s.reduce((t,{useScope:s,scopeName:a})=>{let r=s(e)[`__scope${a}`];return{...t,...r}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return s.scopeName=t.scopeName,s}(n,...t)]}(i),[c,u]=l(i),p=r.forwardRef((e,t)=>{let{__scopeProgress:s,value:r=null,max:n,getValueLabel:i=x,...l}=e;(n||0===n)&&v(n);let d=v(n)?n:100;null!==r&&y(r,d);let u=y(r,d)?r:null,p=g(u)?i(u,d):void 0;return(0,a.jsx)(c,{scope:s,value:u,max:d,children:(0,a.jsx)(o.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":g(u)?u:void 0,"aria-valuetext":p,role:"progressbar","data-state":f(u,d),"data-value":u??void 0,"data-max":d,...l,ref:t})})});p.displayName=i;var m="ProgressIndicator",h=r.forwardRef((e,t)=>{let{__scopeProgress:s,...r}=e,n=u(m,s);return(0,a.jsx)(o.div,{"data-state":f(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...r,ref:t})});function x(e,t){return`${Math.round(e/t*100)}%`}function f(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function g(e){return"number"==typeof e}function v(e){return g(e)&&!isNaN(e)&&e>0}function y(e,t){return g(e)&&!isNaN(e)&&e<=t&&e>=0}h.displayName=m;var j=s(6241);function b({className:e,value:t,...s}){return(0,a.jsx)(p,{"data-slot":"progress",className:(0,j.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...s,children:(0,a.jsx)(h,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}},3873:e=>{"use strict";e.exports=require("path")},4927:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var a=s(5239),r=s(8088),n=s(8170),o=s.n(n),i=s(893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(t,l);let d={children:["",{children:["executives",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,807)),"/app/app/executives/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8014)),"/app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/app/app/executives/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/executives/page",pathname:"/executives",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5336:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2688).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6023:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2688).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},7447:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(687),r=s(3210),n=s(2571),o=s(4934),i=s(7826),l=s(3544),d=s(9266),c=s(7163),u=s(6023),p=s(5336);function m({open:e,onOpenChange:t,onImport:s}){let[n,m]=(0,r.useState)(null),[h,x]=(0,r.useState)(!1),[f,g]=(0,r.useState)(!1),[v,y]=(0,r.useState)(0),[j,b]=(0,r.useState)("upload"),N=e=>{m(e),w(e)},w=async e=>{x(!0),b("complete"),x(!1)},k=async()=>{if(n){g(!0),y(0);try{let[e,...t]=(await n.text()).split("\n").filter(e=>e.trim());for(let e=0;e<t.length;e++){let s=t[e].split(","),a={company_name:s[0]?.trim(),name:s[1]?.trim(),position:s[2]?.trim(),facebook_url:s[3]?.trim(),other_sns_url:s[4]?.trim(),direct_email:s[5]?.trim(),notes:s[6]?.trim()};a.company_name&&a.name&&await d.uE.post(c.i3.ENDPOINTS.EXECUTIVES,a),y(Math.round((e+1)/t.length*100))}await s([]),b("complete")}catch(e){}finally{g(!1)}}},_=()=>{m(null),x(!1),g(!1),y(0),b("upload")};return(0,a.jsx)(i.lG,{open:e,onOpenChange:e=>{e||_(),t(e)},children:(0,a.jsxs)(i.Cf,{className:"sm:max-w-md",children:[(0,a.jsx)(i.c7,{children:(0,a.jsx)(i.L3,{children:"役員CSVインポート"})}),(0,a.jsxs)("div",{className:"space-y-4",children:["upload"===j&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(u.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("label",{htmlFor:"csv-file",className:"cursor-pointer",children:(0,a.jsx)("span",{className:"mt-2 block text-sm font-medium text-gray-900",children:"CSVファイルをアップロード"})}),(0,a.jsx)("input",{id:"csv-file",type:"file",accept:".csv",className:"hidden",onChange:e=>{let t=e.target.files?.[0];t&&N(t)}})]})]})}),(0,a.jsx)(o.$,{onClick:k,className:"w-full",disabled:!n||f,children:f?`インポート中... ${v}%`:"インポート実行"}),f&&(0,a.jsx)(l.k,{value:v,className:"w-full"})]}),"complete"===j&&(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)(p.A,{className:"mx-auto h-12 w-12 text-green-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:"インポート完了"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"役員データのインポートが完了しました"})]}),(0,a.jsx)(o.$,{onClick:()=>t(!1),children:"閉じる"})]})]})]})})}function h(){let[e,t]=(0,r.useState)(!1),s=async e=>{};return(0,a.jsx)(n.MainLayout,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"役員管理"}),(0,a.jsxs)(o.$,{onClick:()=>t(!0),children:[(0,a.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"CSVインポート"]})]}),(0,a.jsx)(m,{open:e,onOpenChange:t,onImport:s})]})})}},7698:(e,t,s)=>{Promise.resolve().then(s.bind(s,807))},7826:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>u,Es:()=>m,L3:()=>h,c7:()=>p,lG:()=>i,rr:()=>x,zM:()=>l});var a=s(687);s(3210);var r=s(146),n=s(1860),o=s(6241);function i({...e}){return(0,a.jsx)(r.bL,{"data-slot":"dialog",...e})}function l({...e}){return(0,a.jsx)(r.l9,{"data-slot":"dialog-trigger",...e})}function d({...e}){return(0,a.jsx)(r.ZL,{"data-slot":"dialog-portal",...e})}function c({className:e,...t}){return(0,a.jsx)(r.hJ,{"data-slot":"dialog-overlay",className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function u({className:e,children:t,showCloseButton:s=!0,...i}){return(0,a.jsxs)(d,{"data-slot":"dialog-portal",children:[(0,a.jsx)(c,{}),(0,a.jsxs)(r.UC,{"data-slot":"dialog-content",className:(0,o.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...i,children:[t,s&&(0,a.jsxs)(r.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(n.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function p({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,o.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function m({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,o.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function h({className:e,...t}){return(0,a.jsx)(r.hE,{"data-slot":"dialog-title",className:(0,o.cn)("text-lg leading-none font-semibold",e),...t})}function x({className:e,...t}){return(0,a.jsx)(r.VY,{"data-slot":"dialog-description",className:(0,o.cn)("text-muted-foreground text-sm",e),...t})}},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9266:(e,t,s)=>{"use strict";s.d(t,{uE:()=>n});class a extends Error{constructor(e,t,s){super(e),this.status=t,this.response=s,this.name="ApiError"}}class r{getAuthHeaders(){return{}}async refreshToken(){return Promise.resolve()}clearTokens(){}async handleResponse(e,t,s){return this.processResponse(e)}async processResponse(e){if(!e.ok){await this.handleUnauthorized(e.status);let t=`HTTP ${e.status}: ${e.statusText}`;try{let s=await e.json();t=s.message||s.error||t}catch{}throw new a(t,e.status,e)}let t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():e.text()}async handleUnauthorized(e){}buildUrl(e){let t=(process.env.NEXT_INTERNAL_API_URL||process.env.NEXT_PUBLIC_API_URL)+"/api/v1";return`${t}${e}`}async makeRequest(e,t){return fetch(this.buildUrl(e),{...t,headers:{...t.headers,...this.getAuthHeaders()}})}async get(e,t){let s={method:"GET",headers:{"Content-Type":"application/json",...t?.headers},...t},a=await this.makeRequest(e,s);return this.handleResponse(a,e,s)}async post(e,t,s){let a={method:"POST",headers:{"Content-Type":"application/json",...s?.headers},body:t?JSON.stringify(t):void 0,...s},r=await this.makeRequest(e,a);return this.handleResponse(r,e,a)}async put(e,t,s){let a={method:"PUT",headers:{"Content-Type":"application/json",...s?.headers},body:t?JSON.stringify(t):void 0,...s},r=await this.makeRequest(e,a);return this.handleResponse(r,e,a)}async patch(e,t,s){let a={method:"PATCH",headers:{"Content-Type":"application/json",...s?.headers},body:t?JSON.stringify(t):void 0,...s},r=await this.makeRequest(e,a);return this.handleResponse(r,e,a)}async delete(e,t){let s={method:"DELETE",headers:{"Content-Type":"application/json",...t?.headers},...t},a=await this.makeRequest(e,s);return this.handleResponse(a,e,s)}async uploadFile(e,t,s){let a=new FormData;a.append("file",t),s&&Object.entries(s).forEach(([e,t])=>{a.append(e,String(t))});let r={method:"POST",body:a},n=await this.makeRequest(e,r);return this.handleResponse(n,e,r)}async downloadFile(e){let t=await this.makeRequest(e,{method:"GET"});if(!t.ok)throw new a(`Failed to download file: ${t.statusText}`,t.status,t);return t.blob()}constructor(){this.retryCount=0,this.maxRetries=0,this.isRefreshingToken=!1,this.refreshPromise=null,this.isHandlingUnauthorized=!1}}let n=new r},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9554:(e,t,s)=>{Promise.resolve().then(s.bind(s,7447))}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[188,525,133,146,628,385],()=>s(4927));module.exports=a})();