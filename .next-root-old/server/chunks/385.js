"use strict";exports.id=385,exports.ids=[385],exports.modules={189:(e,t,s)=>{s.d(t,{Bc:()=>n,ZI:()=>l,k$:()=>d,m_:()=>o});var a=s(687);s(3210);var r=s(5410),i=s(6241);function n({delayDuration:e=0,...t}){return(0,a.jsx)(r.Kq,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function o({...e}){return(0,a.jsx)(n,{children:(0,a.jsx)(r.bL,{"data-slot":"tooltip",...e})})}function d({...e}){return(0,a.jsx)(r.l9,{"data-slot":"tooltip-trigger",...e})}function l({className:e,sideOffset:t=0,children:s,...n}){return(0,a.jsx)(r.ZL,{children:(0,a.jsxs)(r.UC,{"data-slot":"tooltip-content",sideOffset:t,className:(0,i.cn)("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...n,children:[s,(0,a.jsx)(r.i3,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}},2571:(e,t,s)=>{s.d(t,{MainLayout:()=>N});var a=s(687),r=s(3210),i=s(6189),n=s(8865),o=s(1862);function d({children:e}){let{isAuthenticated:t,isLoading:s}=(0,n.A)();return((0,i.useRouter)(),s)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(o.A,{className:"h-6 w-6 animate-spin"}),(0,a.jsx)("span",{children:"Loading..."})]})}):t?(0,a.jsx)(a.Fragment,{children:e}):null}var l=s(5814),c=s.n(l),h=s(6241),u=s(4934),p=s(3411),m=s(1312),x=s(8179),f=s(7313),g=s(4027),b=s(1860),v=s(2941),E=s(83),j=s(189);let T=[{name:"ダッシュボード",href:"/dashboard",icon:p.A},{name:"クライアント",href:"/clients",icon:m.A},{name:"案件",href:"/projects",icon:x.A},{name:"企業管理",href:"/companies",icon:f.A},{name:"設定",href:"/settings",icon:g.A}];function A(){let[e,t]=(0,r.useState)(!1),s=(0,i.usePathname)(),{user:o,logout:d}=(0,n.A)(),l=async()=>{await d()};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:(0,a.jsx)(u.$,{variant:"outline",size:"icon",onClick:()=>t(!e),children:e?(0,a.jsx)(b.A,{className:"h-4 w-4"}):(0,a.jsx)(v.A,{className:"h-4 w-4"})})}),(0,a.jsx)("div",{className:(0,h.cn)("fixed inset-y-0 left-0 z-40 w-64 bg-sidebar border-r border-sidebar-border transform transition-transform duration-200 ease-in-out lg:translate-x-0",e?"translate-x-0":"-translate-x-full"),children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)("div",{className:"flex items-center justify-center h-16 px-4 border-b border-sidebar-border",children:(0,a.jsx)("h1",{className:"text-lg font-bold text-sidebar-foreground",children:"セールスナビゲーター"})}),(0,a.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-2",children:T.map(e=>{let r=s.startsWith(e.href);return(0,a.jsxs)(c(),{href:e.href,className:(0,h.cn)("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",r?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"),onClick:()=>t(!1),children:[(0,a.jsx)(e.icon,{className:"mr-3 h-5 w-5"}),e.name]},e.name)})}),(0,a.jsxs)("div",{className:"p-4 border-t border-sidebar-border space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-sidebar-primary rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium text-sidebar-primary-foreground",children:o?.name?.charAt(0)||"U"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-sidebar-foreground truncate",title:o?.name||void 0,children:o?.name||"ユーザー"}),o?.email?(0,a.jsxs)(j.m_,{children:[(0,a.jsx)(j.k$,{asChild:!0,children:(0,a.jsx)("p",{className:"text-xs text-muted-foreground break-all leading-snug cursor-default",title:o.email,children:o.email})}),(0,a.jsx)(j.ZI,{side:"top",align:"start",children:(0,a.jsx)("span",{children:o.email})})]}):null]})]}),(0,a.jsxs)(u.$,{"aria-label":"ログアウト",variant:"outline",size:"sm",onClick:l,className:"w-full justify-center gap-2 text-sidebar-foreground hover:text-sidebar-accent-foreground",children:[(0,a.jsx)(E.A,{className:"h-4 w-4"}),"ログアウト"]})]})]})}),e&&(0,a.jsx)("div",{className:"fixed inset-0 z-30 bg-black bg-opacity-50 lg:hidden",onClick:()=>t(!1)})]})}function N({children:e}){return(0,a.jsx)(d,{children:(0,a.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,a.jsx)(A,{}),(0,a.jsx)("main",{className:"flex-1 lg:ml-64 overflow-auto",children:(0,a.jsx)("div",{className:"p-6 lg:p-8 pt-16 lg:pt-8",children:e})})]})})}},4934:(e,t,s)=>{s.d(t,{$:()=>d,r:()=>o});var a=s(687);s(3210);var r=s(1329),i=s(4224),n=s(6241);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d({className:e,variant:t,size:s,asChild:i=!1,...d}){let l=i?r.DX:"button";return(0,a.jsx)(l,{"data-slot":"button",className:(0,n.cn)(o({variant:t,size:s,className:e})),...d})}},7163:(e,t,s)=>{s.d(t,{i3:()=>a,uE:()=>n});let a={BASE_URL:process.env.NEXT_PUBLIC_API_URL+"/api/v1",ENDPOINTS:{LOGIN:"/auth/login",LOGOUT:"/auth/logout",REFRESH:"/auth/refresh",ME:"/auth/me",REGISTER:"/auth/register",CLIENTS:"/clients/",CLIENT_DETAIL:e=>`/clients/${e}/`,COMPANIES:"/companies/",COMPANY_DETAIL:e=>`/companies/${e}/`,COMPANY_SEARCH:"/companies/search/",COMPANY_EXPORT:"/companies/export/",COMPANY_IMPORT:"/companies/import/",COMPANY_BULK_IMPORT:"/companies/bulk-import/",COMPANY_BULK_ADD_TO_PROJECTS:"/companies/bulk-add-to-projects/",PROJECTS:"/projects/",PROJECT_DETAIL:e=>`/projects/${e}/`,PROJECT_COMPANIES:e=>`/projects/${e}/companies/`,PROJECT_IMPORT:"/projects/import_csv/",PROJECT_EXPORT:e=>`/projects/${e}/export_csv/`,PROJECT_BULK_PARTIAL_UPDATE:"/projects/bulk-partial-update",PROJECT_PAGE_LOCK:"/projects/page-lock/",PROJECT_PAGE_UNLOCK:"/projects/page-unlock/",PROJECT_SNAPSHOTS:e=>`/projects/${e}/snapshots/`,PROJECT_SNAPSHOT_RESTORE:(e,t)=>`/projects/${e}/snapshots/${t}/restore/`,NG_COMPANIES:"/ng-companies/",NG_COMPANY_GLOBAL:"/ng-companies/global/",NG_COMPANY_PROJECT:e=>`/ng-companies/project/${e}/`,NG_COMPANY_IMPORT:e=>`/clients/${e}/ng-companies/import`,NG_COMPANY_TEMPLATE:"/ng-companies/template/",EXECUTIVES:"/executives/",EXECUTIVE_DETAIL:e=>`/executives/${e}/`,EXECUTIVE_IMPORT:"/executives/import_csv/",EXECUTIVE_EXPORT:"/executives/export_csv/",SAVED_FILTERS:"/saved-filters/",FILTER_DETAIL:e=>`/saved-filters/${e}/`,DASHBOARD_STATS:"/dashboard/stats/",DASHBOARD_RECENT_PROJECTS:"/dashboard/recent-projects/",DASHBOARD_RECENT_COMPANIES:"/dashboard/recent-companies/",MASTER_INDUSTRIES:"/master/industries/",MASTER_STATUSES:"/master/statuses/",MASTER_PREFECTURES:"/master/prefectures/"}};class r extends Error{constructor(e,t,s){super(e),this.status=t,this.response=s,this.name="ApiError"}}class i{async handleUnauthorized(e){}getAuthHeaders(){return{}}buildUrl(e){let t=a.BASE_URL.replace(/\/+$/,""),s=e.replace(/^\/+/,"");return`${t}/${s}`}async get(e,t){let s=await fetch(this.buildUrl(e),{method:"GET",headers:{"Content-Type":"application/json",...this.getAuthHeaders(),...t?.headers},...t});return await this.handleUnauthorized(s.status),s}async post(e,t,s){let a=await fetch(this.buildUrl(e),{method:"POST",headers:{"Content-Type":"application/json",...this.getAuthHeaders(),...s?.headers},body:t?JSON.stringify(t):void 0,...s});return await this.handleUnauthorized(a.status),a}async put(e,t,s){let a=await fetch(this.buildUrl(e),{method:"PUT",headers:{"Content-Type":"application/json",...this.getAuthHeaders(),...s?.headers},body:t?JSON.stringify(t):void 0,...s});return await this.handleUnauthorized(a.status),a}async patch(e,t,s){let a=await fetch(this.buildUrl(e),{method:"PATCH",headers:{"Content-Type":"application/json",...this.getAuthHeaders(),...s?.headers},body:t?JSON.stringify(t):void 0,...s});return await this.handleUnauthorized(a.status),a}async delete(e,t){let s=await fetch(this.buildUrl(e),{method:"DELETE",headers:{"Content-Type":"application/json",...this.getAuthHeaders(),...t?.headers},...t});return await this.handleUnauthorized(s.status),s}async uploadFile(e,t,s){let a=new FormData;a.append("file",t),s&&Object.entries(s).forEach(([e,t])=>{a.append(e,String(t))});let r=await fetch(this.buildUrl(e),{method:"POST",headers:{...this.getAuthHeaders()},body:a});return await this.handleUnauthorized(r.status),r}async handleResponse(e){if(!e.ok){let t=`HTTP ${e.status}: ${e.statusText}`;try{let s=await e.json();t=s.message||s.error||t}catch{}throw new r(t,e.status,e)}let t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():e.text()}constructor(){this.isHandlingUnauthorized=!1}}let n=new i}};