"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1926],{1879:(e,t,a)=>{a.d(t,{A:()=>h});var s=a(5155),r=a(2115),n=a(7168),l=a(9852),i=a(2714),o=a(9474),d=a(5784),c=a(8482),u=a(4229),p=a(4416);let m=["テクノロジー","製造業","金融","ヘルスケア","小売","教育","不動産","コンサルティング","その他"],v=[{value:"active",label:"アクティブ"},{value:"prospect",label:"見込み客"},{value:"inactive",label:"非アクティブ"}];function h(e){let{company:t,onSave:a,onCancel:h,isLoading:x=!1}=e,[b,g]=(0,r.useState)({name:(null==t?void 0:t.name)||"",corporate_number:(null==t?void 0:t.corporate_number)||"",industry:(null==t?void 0:t.industry)||"",contact_person_name:(null==t?void 0:t.contact_person_name)||"",contact_person_position:(null==t?void 0:t.contact_person_position)||"",facebook_url:(null==t?void 0:t.facebook_url)||"",tob_toc_type:(null==t?void 0:t.tob_toc_type)||"",business_description:(null==t?void 0:t.business_description)||"",prefecture:(null==t?void 0:t.prefecture)||"",city:(null==t?void 0:t.city)||"",employee_count:(null==t?void 0:t.employee_count)||0,revenue:(null==t?void 0:t.revenue)||0,capital:(null==t?void 0:t.capital)||0,established_year:Number(null==t?void 0:t.established_year)||new Date().getFullYear(),website_url:(null==t?void 0:t.website_url)||"",contact_email:(null==t?void 0:t.contact_email)||"",phone:(null==t?void 0:t.phone)||"",notes:(null==t?void 0:t.notes)||"",status:(null==t?void 0:t.status)||"prospect"}),[f,j]=(0,r.useState)({}),_=()=>{let e={};return b.name.trim()||(e.name="企業名は必須です"),b.industry||(e.industry="業界は必須です"),b.employee_count<0&&(e.employee_count="従業員数は正の数である必要があります"),b.revenue<0&&(e.revenue="売上は正の数である必要があります"),b.contact_email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b.contact_email)&&(e.contact_email="無効なメール形式です"),b.website_url&&!/^https?:\/\/.+/.test(b.website_url)&&(e.website_url="ウェブサイトはhttp://またはhttps://で始まる必要があります"),j(e),0===Object.keys(e).length},y=async e=>{if(e.preventDefault(),_())try{await a(b)}catch(e){}},w=(e,t)=>{g(a=>({...a,[e]:t})),f[e]&&j(t=>({...t,[e]:""}))};return(0,s.jsxs)(c.Zp,{children:[(0,s.jsx)(c.aR,{children:(0,s.jsx)(c.ZB,{children:t?"企業情報の編集":"新規企業登録"})}),(0,s.jsx)(c.Wu,{children:(0,s.jsxs)("form",{onSubmit:y,noValidate:!0,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)(i.J,{htmlFor:"name",children:"企業名 *"}),(0,s.jsx)(l.p,{id:"name",value:b.name,onChange:e=>w("name",e.target.value),disabled:x,className:f.name?"border-destructive":""}),f.name&&(0,s.jsx)("p",{className:"text-sm text-destructive mt-1",children:f.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(i.J,{htmlFor:"corporate_number",children:"法人番号"}),(0,s.jsx)(l.p,{id:"corporate_number",value:b.corporate_number,onChange:e=>w("corporate_number",e.target.value),placeholder:"1234567890123",disabled:x})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.J,{htmlFor:"contact_person_name",children:"担当者名"}),(0,s.jsx)(l.p,{id:"contact_person_name",value:b.contact_person_name,onChange:e=>w("contact_person_name",e.target.value),placeholder:"田中太郎",disabled:x})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(i.J,{htmlFor:"contact_person_position",children:"担当者役職"}),(0,s.jsx)(l.p,{id:"contact_person_position",value:b.contact_person_position,onChange:e=>w("contact_person_position",e.target.value),placeholder:"営業部長",disabled:x})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(i.J,{htmlFor:"facebook_url",children:"Facebookリンク"}),(0,s.jsx)(l.p,{id:"facebook_url",type:"url",value:b.facebook_url,onChange:e=>w("facebook_url",e.target.value),placeholder:"https://facebook.com/username",disabled:x})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(i.J,{htmlFor:"tob_toc_type",children:"toB/toC"}),(0,s.jsxs)(d.l6,{value:b.tob_toc_type,onValueChange:e=>w("tob_toc_type",e),children:[(0,s.jsx)(d.bq,{children:(0,s.jsx)(d.yv,{placeholder:"事業形態を選択"})}),(0,s.jsxs)(d.gC,{children:[(0,s.jsx)(d.eb,{value:"toB",children:"toB"}),(0,s.jsx)(d.eb,{value:"toC",children:"toC"}),(0,s.jsx)(d.eb,{value:"Both",children:"Both"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(i.J,{htmlFor:"business_description",children:"事業内容"}),(0,s.jsx)(o.T,{id:"business_description",value:b.business_description,onChange:e=>w("business_description",e.target.value),placeholder:"主な事業内容を記載してください",disabled:x,rows:3})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(i.J,{htmlFor:"industry",children:"業界 *"}),(0,s.jsx)(l.p,{id:"industry",value:b.industry,onChange:e=>w("industry",e.target.value),placeholder:"業界を入力してください",disabled:x,className:f.industry?"border-destructive":"",list:"industry-suggestions"}),(0,s.jsx)("datalist",{id:"industry-suggestions",children:m.map(e=>(0,s.jsx)("option",{value:e},e))}),f.industry&&(0,s.jsx)("p",{className:"text-sm text-destructive mt-1",children:f.industry})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(i.J,{htmlFor:"status",children:"ステータス"}),(0,s.jsxs)(d.l6,{value:b.status,onValueChange:e=>w("status",e),children:[(0,s.jsx)(d.bq,{children:(0,s.jsx)(d.yv,{placeholder:"ステータスを選択"})}),(0,s.jsx)(d.gC,{children:v.map(e=>(0,s.jsx)(d.eb,{value:e.value,children:e.label},e.value))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(i.J,{htmlFor:"employee_count",children:"従業員数"}),(0,s.jsx)(l.p,{id:"employee_count",type:"number",min:"0",value:b.employee_count,onChange:e=>w("employee_count",Number.parseInt(e.target.value)||0),disabled:x,className:f.employee_count?"border-destructive":""}),f.employee_count&&(0,s.jsx)("p",{className:"text-sm text-destructive mt-1",children:f.employee_count})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(i.J,{htmlFor:"revenue",children:"売上規模 (\xa5)"}),(0,s.jsx)(l.p,{id:"revenue",type:"number",min:"0",value:b.revenue,onChange:e=>w("revenue",Number.parseInt(e.target.value)||0),disabled:x,className:f.revenue?"border-destructive":""}),f.revenue&&(0,s.jsx)("p",{className:"text-sm text-destructive mt-1",children:f.revenue})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(i.J,{htmlFor:"capital",children:"資本金 (\xa5)"}),(0,s.jsx)(l.p,{id:"capital",type:"number",min:"0",value:b.capital,onChange:e=>w("capital",Number.parseInt(e.target.value)||0),disabled:x,placeholder:"50000000"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(i.J,{htmlFor:"prefecture",children:"都道府県"}),(0,s.jsx)(l.p,{id:"prefecture",value:b.prefecture,onChange:e=>w("prefecture",e.target.value),disabled:x,placeholder:"東京都"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(i.J,{htmlFor:"city",children:"市区町村"}),(0,s.jsx)(l.p,{id:"city",value:b.city,onChange:e=>w("city",e.target.value),disabled:x,placeholder:"渋谷区"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(i.J,{htmlFor:"website",children:"ウェブサイト"}),(0,s.jsx)(l.p,{id:"website",type:"url",value:b.website_url,onChange:e=>w("website_url",e.target.value),disabled:x,className:f.website_url?"border-destructive":""}),f.website_url&&(0,s.jsx)("p",{className:"text-sm text-destructive mt-1",children:f.website_url})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(i.J,{htmlFor:"phone",children:"電話番号"}),(0,s.jsx)(l.p,{id:"phone",value:b.phone,onChange:e=>w("phone",e.target.value),disabled:x})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(i.J,{htmlFor:"email",children:"メールアドレス"}),(0,s.jsx)(l.p,{id:"email",type:"email",value:b.contact_email,onChange:e=>w("contact_email",e.target.value),disabled:x,className:f.contact_email?"border-destructive":""}),f.contact_email&&(0,s.jsx)("p",{className:"text-sm text-destructive mt-1",children:f.contact_email})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)(i.J,{htmlFor:"notes",children:"企業管理メモ"}),(0,s.jsx)(o.T,{id:"notes",rows:3,value:b.notes,onChange:e=>w("notes",e.target.value),disabled:x,placeholder:"内部管理用のメモを記載してください"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 pt-4 border-t",children:[(0,s.jsxs)(n.$,{type:"submit",disabled:x,children:[(0,s.jsx)(u.A,{className:"h-4 w-4 mr-2"}),x?"保存中...":"変更を保存"]}),(0,s.jsxs)(n.$,{type:"button",variant:"outline",onClick:h,disabled:x,children:[(0,s.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"キャンセル"]})]})]})})]})}},2714:(e,t,a)=>{a.d(t,{J:()=>l});var s=a(5155);a(2115);var r=a(2797),n=a(3999);function l(e){let{className:t,...a}=e;return(0,s.jsx)(r.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}},2797:(e,t,a)=>{a.d(t,{b:()=>o});var s=a(2115);a(7650);var r=a(6634),n=a(5155),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let a=(0,r.TL)(`Primitive.${t}`),l=s.forwardRef((e,s)=>{let{asChild:r,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(r?a:t,{...l,ref:s})});return l.displayName=`Primitive.${t}`,{...e,[t]:l}},{}),i=s.forwardRef((e,t)=>(0,n.jsx)(l.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null===(a=e.onMouseDown)||void 0===a||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var o=i},3580:(e,t,a)=>{a.d(t,{dj:()=>p,oR:()=>u});var s=a(2115);let r=0,n=new Map,l=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?l(a):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=i(d,e),o.forEach(e=>{e(d)})}function u(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function p(){let[e,t]=s.useState(d);return s.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},4229:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(9946).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},5784:(e,t,a)=>{a.d(t,{bq:()=>u,eb:()=>m,gC:()=>p,l6:()=>d,yv:()=>c});var s=a(5155);a(2115);var r=a(4006),n=a(6474),l=a(5196),i=a(7863),o=a(3999);function d(e){let{...t}=e;return(0,s.jsx)(r.bL,{"data-slot":"select",...t})}function c(e){let{...t}=e;return(0,s.jsx)(r.WT,{"data-slot":"select-value",...t})}function u(e){let{className:t,size:a="default",children:l,...i}=e;return(0,s.jsxs)(r.l9,{"data-slot":"select-trigger","data-size":a,className:(0,o.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i,children:[l,(0,s.jsx)(r.In,{asChild:!0,children:(0,s.jsx)(n.A,{className:"size-4 opacity-50"})})]})}function p(e){let{className:t,children:a,position:n="popper",...l}=e;return(0,s.jsx)(r.ZL,{children:(0,s.jsxs)(r.UC,{"data-slot":"select-content",className:(0,o.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...l,children:[(0,s.jsx)(v,{}),(0,s.jsx)(r.LM,{className:(0,o.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,s.jsx)(h,{})]})})}function m(e){let{className:t,children:a,...n}=e;return(0,s.jsxs)(r.q7,{"data-slot":"select-item",className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[(0,s.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,s.jsx)(r.VF,{children:(0,s.jsx)(l.A,{className:"size-4"})})}),(0,s.jsx)(r.p4,{children:a})]})}function v(e){let{className:t,...a}=e;return(0,s.jsx)(r.PP,{"data-slot":"select-scroll-up-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(i.A,{className:"size-4"})})}function h(e){let{className:t,...a}=e;return(0,s.jsx)(r.wn,{"data-slot":"select-scroll-down-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(n.A,{className:"size-4"})})}},7550:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(9946).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8482:(e,t,a)=>{a.d(t,{BT:()=>o,Wu:()=>d,ZB:()=>i,Zp:()=>n,aR:()=>l});var s=a(5155);a(2115);var r=a(3999);function n(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function l(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function i(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",t),...a})}function o(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",t),...a})}function d(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",t),...a})}},9474:(e,t,a)=>{a.d(t,{T:()=>n});var s=a(5155);a(2115);var r=a(3999);function n(e){let{className:t,...a}=e;return(0,s.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...a})}},9852:(e,t,a)=>{a.d(t,{p:()=>n});var s=a(5155);a(2115);var r=a(3999);function n(e){let{className:t,type:a,...n}=e;return(0,s.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}}}]);