(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3500],{2525:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2549:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>R});var a=s(5155),r=s(2115),n=s(5695),i=s(6874),l=s.n(i),c=s(5646),o=s(1879),d=s(7168),h=s(9852),u=s(2714),m=s(8482),x=s(8145),p=s(9840),j=s(9946);let g=(0,j.A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var f=s(4616),v=s(3786),N=s(3717),_=s(2525);function b(e){let{executives:t,onAdd:s,onEdit:n,onDelete:i,isLoading:l=!1}=e,[c,o]=(0,r.useState)(!1),[j,b]=(0,r.useState)(null),[y,E]=(0,r.useState)({name:"",position:"",email:"",phone:"",linkedin_url:"",facebook_url:"",twitter_url:""}),w=()=>{E({name:"",position:"",email:"",phone:"",linkedin_url:"",facebook_url:"",twitter_url:""})},A=()=>{s&&y.name&&y.position&&(s(y),w(),o(!1))},k=e=>{b(e),E({name:e.name,position:e.position,email:e.email||"",phone:e.phone||"",linkedin_url:e.linkedin_url||"",facebook_url:e.facebook_url||"",twitter_url:e.twitter_url||""})},T=()=>{n&&j&&y.name&&y.position&&(n(j.id.toString(),y),w(),b(null))},C=e=>{let{isEdit:t=!1}=e;return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(u.J,{htmlFor:"name",children:"氏名 *"}),(0,a.jsx)(h.p,{id:"name",value:y.name,onChange:e=>E(t=>({...t,name:e.target.value})),disabled:l})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.J,{htmlFor:"position",children:"役職 *"}),(0,a.jsx)(h.p,{id:"position",value:y.position,onChange:e=>E(t=>({...t,position:e.target.value})),disabled:l})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.J,{htmlFor:"email",children:"メールアドレス"}),(0,a.jsx)(h.p,{id:"email",type:"email",value:y.email,onChange:e=>E(t=>({...t,email:e.target.value})),disabled:l})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.J,{htmlFor:"phone",children:"電話番号"}),(0,a.jsx)(h.p,{id:"phone",value:y.phone,onChange:e=>E(t=>({...t,phone:e.target.value})),disabled:l})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.J,{htmlFor:"linkedin_url",children:"LinkedIn URL"}),(0,a.jsx)(h.p,{id:"linkedin_url",type:"url",value:y.linkedin_url,onChange:e=>E(t=>({...t,linkedin_url:e.target.value})),disabled:l})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.J,{htmlFor:"facebook_url",children:"Facebook URL"}),(0,a.jsx)(h.p,{id:"facebook_url",type:"url",value:y.facebook_url,onChange:e=>E(t=>({...t,facebook_url:e.target.value})),disabled:l})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.J,{htmlFor:"twitter_url",children:"Twitter URL"}),(0,a.jsx)(h.p,{id:"twitter_url",type:"url",value:y.twitter_url,onChange:e=>E(t=>({...t,twitter_url:e.target.value})),disabled:l})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 pt-4",children:[(0,a.jsx)(d.$,{onClick:t?T:A,disabled:l,children:t?"変更を保存":"役員を追加"}),(0,a.jsx)(d.$,{variant:"outline",onClick:()=>{w(),t?b(null):o(!1)},disabled:l,children:"キャンセル"})]})]})};return(0,a.jsxs)(m.Zp,{children:[(0,a.jsx)(m.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(m.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(g,{className:"h-5 w-5"}),"役員・代表者 (",t.length,")"]}),(0,a.jsxs)(p.lG,{open:c,onOpenChange:o,children:[(0,a.jsx)(p.zM,{asChild:!0,children:(0,a.jsxs)(d.$,{size:"sm",children:[(0,a.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"役員を追加"]})}),(0,a.jsxs)(p.Cf,{className:"max-w-2xl",children:[(0,a.jsx)(p.c7,{children:(0,a.jsx)(p.L3,{children:"新しい役員を追加"})}),(0,a.jsx)(C,{})]})]})]})}),(0,a.jsxs)(m.Wu,{children:[0===t.length?(0,a.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,a.jsx)(g,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,a.jsx)("p",{children:"まだ役員が追加されていません。"}),(0,a.jsx)("p",{className:"text-sm",children:"この企業の主要な連絡先を追跡するために役員を追加してください。"})]}):(0,a.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,a.jsx)("div",{className:"border rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("h4",{className:"font-medium",children:e.name}),(0,a.jsx)(x.E,{variant:"secondary",children:e.position})]}),(0,a.jsxs)("div",{className:"space-y-1 text-sm text-muted-foreground",children:[e.email&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:"メール:"}),(0,a.jsx)("a",{href:"mailto:".concat(e.email),className:"text-primary hover:underline",children:e.email})]}),e.phone&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:"電話:"}),(0,a.jsx)("a",{href:"tel:".concat(e.phone),className:"text-primary hover:underline",children:e.phone})]}),e.linkedin_url&&(0,a.jsxs)("a",{href:e.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1",children:["LinkedIn ",(0,a.jsx)(v.A,{className:"h-3 w-3"})]}),e.facebook_url&&(0,a.jsxs)("a",{href:e.facebook_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1",children:["Facebook ",(0,a.jsx)(v.A,{className:"h-3 w-3"})]}),e.twitter_url&&(0,a.jsxs)("a",{href:e.twitter_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1",children:["Twitter ",(0,a.jsx)(v.A,{className:"h-3 w-3"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>k(e),children:(0,a.jsx)(N.A,{className:"h-3 w-3"})}),i&&(0,a.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>i(e.id.toString()),children:(0,a.jsx)(_.A,{className:"h-3 w-3"})})]})]})},e.id))}),(0,a.jsx)(p.lG,{open:!!j,onOpenChange:()=>b(null),children:(0,a.jsxs)(p.Cf,{className:"max-w-2xl",children:[(0,a.jsx)(p.c7,{children:(0,a.jsx)(p.L3,{children:"役員を編集"})}),(0,a.jsx)(C,{isEdit:!0})]})})]})]})}var y=s(7259),E=s(1056),w=s(3580),A=s(9026),k=s(1154),T=s(7550),C=s(3227);let S=(0,j.A)("ShieldOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]);var P=s(5525),O=s(9074);function R(e){var t;let s,{params:i}=e,h=(0,r.use)(i),[u,p]=(0,r.useState)(!1),[j,g]=(0,r.useState)(!1),f=(0,n.useRouter)(),{toast:R}=(0,w.dj)(),{company:M,isLoading:L,error:U,updateCompany:I,deleteCompany:J}=function(e){let[t,s]=(0,r.useState)(null),[a,n]=(0,r.useState)(!0),[i,l]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let t=async()=>{try{if(!E.authService.isAuthenticated()){n(!1);return}n(!0),l(null);let t=await y.uE.get("/companies/".concat(e));if(!t.ok)throw Error("HTTP ".concat(t.status,": ").concat(t.statusText));let a=await t.json();s(a.data||a)}catch(e){l(e instanceof Error?e.message:"企業データの取得に失敗しました")}finally{n(!1)}};e&&t()},[e]),{company:t,isLoading:a,error:i,updateCompany:async t=>{try{if(!E.authService.isAuthenticated()){n(!1);return}n(!0),l(null);let a=await y.uE.put("/companies/".concat(e,"/"),t);if(!a.ok)throw Error("HTTP ".concat(a.status,": ").concat(a.statusText));let r=await a.json();return s(r.data||r),!0}catch(e){throw l(e instanceof Error?e.message:"企業データの更新に失敗しました"),e}finally{n(!1)}},deleteCompany:async()=>{try{if(!E.authService.isAuthenticated()){n(!1);return}n(!0),l(null);let t=await y.uE.delete("/companies/".concat(e,"/"));if(!t.ok)throw Error("HTTP ".concat(t.status,": ").concat(t.statusText));return!0}catch(e){throw l(e instanceof Error?e.message:"企業の削除に失敗しました"),e}finally{n(!1)}}}}(h.id),[z,H]=(0,r.useState)(!1),F=async e=>{try{await I(e),p(!1)}catch(e){}},D=async()=>{if(confirm("この企業を削除してもよろしいですか？この操作は取り消せません。")){g(!0);try{await J(),f.push("/companies")}catch(e){g(!1)}}},G=async()=>{if(!M)return;let e=M.is_global_ng?"解除":"設定";if(confirm("企業「".concat(M.name,"」のグローバルNG状態を").concat(e,"しますか？"))){H(!0);try{let e=await y.uE.post("/companies/".concat(M.id,"/toggle_ng/"),{reason:M.is_global_ng?"":"管理者による手動設定"});if(e.ok){let t=await e.json();R({title:"成功",description:t.message}),window.location.reload()}else throw Error("API エラー")}catch(e){R({title:"エラー",description:"グローバルNG状態の更新に失敗しました",variant:"destructive"})}finally{H(!1)}}};return L?(0,a.jsx)(c.MainLayout,{children:(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(k.A,{className:"h-6 w-6 animate-spin"}),(0,a.jsx)("span",{children:"企業情報を読み込み中..."})]})})}):U||!M?(0,a.jsx)(c.MainLayout,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsx)(d.$,{variant:"outline",asChild:!0,children:(0,a.jsxs)(l(),{href:"/companies",children:[(0,a.jsx)(T.A,{className:"h-4 w-4 mr-2"}),"企業一覧に戻る"]})})}),(0,a.jsx)(A.Fc,{variant:"destructive",children:(0,a.jsx)(A.TN,{children:U||"企業が見つかりません"})})]})}):(0,a.jsx)(c.MainLayout,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(d.$,{variant:"outline",asChild:!0,children:(0,a.jsxs)(l(),{href:"/companies",children:[(0,a.jsx)(T.A,{className:"h-4 w-4 mr-2"}),"企業一覧に戻る"]})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[(0,a.jsx)(C.A,{className:"h-8 w-8"}),M.name]}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"企業詳細と管理"})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:!u&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(d.$,{variant:(null==M?void 0:M.is_global_ng)?"outline":"destructive",onClick:G,disabled:z,children:[(null==M?void 0:M.is_global_ng)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(S,{className:"h-4 w-4 mr-2"}),"NG解除"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P.A,{className:"h-4 w-4 mr-2"}),"NG設定"]}),z&&"中..."]}),(0,a.jsxs)(d.$,{variant:"outline",onClick:()=>p(!0),children:[(0,a.jsx)(N.A,{className:"h-4 w-4 mr-2"}),"編集"]}),(0,a.jsxs)(d.$,{variant:"destructive",onClick:D,disabled:j,children:[(0,a.jsx)(_.A,{className:"h-4 w-4 mr-2"}),j?"削除中...":"削除"]})]})})]}),u?(0,a.jsx)(o.A,{company:M,onSave:F,onCancel:()=>p(!1)}):(0,a.jsxs)(m.Zp,{children:[(0,a.jsx)(m.aR,{children:(0,a.jsx)(m.ZB,{children:"企業情報"})}),(0,a.jsxs)(m.Wu,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"業界"}),(0,a.jsx)("p",{children:M.industry})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"法人番号"}),(0,a.jsx)("p",{children:M.corporate_number||"未設定"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"事業形態"}),(0,a.jsx)("p",{children:M.tob_toc_type||"未設定"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"担当者"}),(0,a.jsxs)("p",{children:[M.contact_person_name||"未設定"," ",M.contact_person_position&&"(".concat(M.contact_person_position,")")]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"資本金"}),(0,a.jsx)("p",{children:M.capital?"\xa5".concat(M.capital.toLocaleString()):"未設定"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"ステータス"}),(t=M.status||"prospect",(0,a.jsx)(x.E,{variant:{active:"default",prospect:"secondary",inactive:"outline"}[t]||"outline",children:t.charAt(0).toUpperCase()+t.slice(1)}))]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"グローバルNG設定"}),(0,a.jsx)(x.E,{variant:M.is_global_ng?"destructive":"outline",children:M.is_global_ng?"NG設定済み":"通常"}),M.is_global_ng&&(0,a.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"※全案件で営業対象外"})]}),(0,a.jsxs)("div",{className:"col-span-full",children:[(0,a.jsx)("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"事業内容"}),(0,a.jsx)("p",{className:"text-sm",children:M.business_description||"未設定"})]}),M.facebook_url&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Facebook"}),(0,a.jsx)("a",{href:M.facebook_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm",children:M.facebook_url})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"従業員数"}),(0,a.jsx)("p",{children:new Intl.NumberFormat("ja-JP").format(M.employee_count)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"売上"}),(0,a.jsx)("p",{children:(s=M.revenue,new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY",minimumFractionDigits:0}).format(s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"所在地"}),(0,a.jsx)("p",{children:M.location})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"ウェブサイト"}),M.website?(0,a.jsxs)("a",{href:M.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1",children:[M.website.replace(/^https?:\/\//,""),(0,a.jsx)(v.A,{className:"h-3 w-3"})]}):(0,a.jsx)("p",{className:"text-muted-foreground",children:"未設定"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"電話番号"}),M.phone?(0,a.jsx)("a",{href:"tel:".concat(M.phone),className:"text-primary hover:underline",children:M.phone}):(0,a.jsx)("p",{className:"text-muted-foreground",children:"未設定"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"メールアドレス"}),M.email?(0,a.jsx)("a",{href:"mailto:".concat(M.email),className:"text-primary hover:underline",children:M.email}):(0,a.jsx)("p",{className:"text-muted-foreground",children:"未設定"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"作成日"}),(0,a.jsxs)("p",{className:"flex items-center gap-1",children:[(0,a.jsx)(O.A,{className:"h-3 w-3"}),new Date(M.created_at).toLocaleDateString("ja-JP")]})]})]}),M.description&&(0,a.jsxs)("div",{className:"mt-6 pt-6 border-t",children:[(0,a.jsx)("h4",{className:"font-medium text-sm text-muted-foreground mb-2",children:"説明"}),(0,a.jsx)("p",{className:"text-sm leading-relaxed",children:M.description})]})]})]}),(0,a.jsx)(b,{executives:M.executives||[]})]})})}},3717:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},3786:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},4195:(e,t,s)=>{Promise.resolve().then(s.bind(s,2549))},4616:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5525:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},7259:(e,t,s)=>{"use strict";s.d(t,{i3:()=>a,uE:()=>i});let a={BASE_URL:s(9509).env.NEXT_PUBLIC_API_URL+"/api/v1",ENDPOINTS:{LOGIN:"/auth/login",LOGOUT:"/auth/logout",REFRESH:"/auth/refresh",ME:"/auth/me",REGISTER:"/auth/register",CLIENTS:"/clients/",CLIENT_DETAIL:e=>"/clients/".concat(e,"/"),COMPANIES:"/companies/",COMPANY_DETAIL:e=>"/companies/".concat(e,"/"),COMPANY_SEARCH:"/companies/search/",COMPANY_EXPORT:"/companies/export/",COMPANY_IMPORT:"/companies/import/",COMPANY_BULK_IMPORT:"/companies/bulk-import/",COMPANY_BULK_ADD_TO_PROJECTS:"/companies/bulk-add-to-projects/",PROJECTS:"/projects/",PROJECT_DETAIL:e=>"/projects/".concat(e,"/"),PROJECT_COMPANIES:e=>"/projects/".concat(e,"/companies/"),PROJECT_IMPORT:"/projects/import_csv/",PROJECT_EXPORT:e=>"/projects/".concat(e,"/export_csv/"),PROJECT_BULK_PARTIAL_UPDATE:"/projects/bulk-partial-update",PROJECT_PAGE_LOCK:"/projects/page-lock/",PROJECT_PAGE_UNLOCK:"/projects/page-unlock/",PROJECT_SNAPSHOTS:e=>"/projects/".concat(e,"/snapshots/"),PROJECT_SNAPSHOT_RESTORE:(e,t)=>"/projects/".concat(e,"/snapshots/").concat(t,"/restore/"),NG_COMPANIES:"/ng-companies/",NG_COMPANY_GLOBAL:"/ng-companies/global/",NG_COMPANY_PROJECT:e=>"/ng-companies/project/".concat(e,"/"),NG_COMPANY_IMPORT:e=>"/clients/".concat(e,"/ng-companies/import"),NG_COMPANY_TEMPLATE:"/ng-companies/template/",EXECUTIVES:"/executives/",EXECUTIVE_DETAIL:e=>"/executives/".concat(e,"/"),EXECUTIVE_IMPORT:"/executives/import_csv/",EXECUTIVE_EXPORT:"/executives/export_csv/",SAVED_FILTERS:"/saved-filters/",FILTER_DETAIL:e=>"/saved-filters/".concat(e,"/"),DASHBOARD_STATS:"/dashboard/stats/",DASHBOARD_RECENT_PROJECTS:"/dashboard/recent-projects/",DASHBOARD_RECENT_COMPANIES:"/dashboard/recent-companies/",MASTER_INDUSTRIES:"/master/industries/",MASTER_STATUSES:"/master/statuses/",MASTER_PREFECTURES:"/master/prefectures/"}};class r extends Error{constructor(e,t,s){super(e),this.status=t,this.response=s,this.name="ApiError"}}class n{async handleUnauthorized(e){if((401===e||403===e)&&!this.isHandlingUnauthorized){this.isHandlingUnauthorized=!0;try{let{authService:e}=await Promise.resolve().then(s.bind(s,1056));await e.logout()}catch(e){}finally{try{window.location.href="/login"}finally{this.isHandlingUnauthorized=!1}}}}getAuthHeaders(){let e=localStorage.getItem("access_token");return e?{Authorization:"Bearer ".concat(e)}:{}}buildUrl(e){let t=a.BASE_URL.replace(/\/+$/,""),s=e.replace(/^\/+/,"");return"".concat(t,"/").concat(s)}async get(e,t){let s=await fetch(this.buildUrl(e),{method:"GET",headers:{"Content-Type":"application/json",...this.getAuthHeaders(),...null==t?void 0:t.headers},...t});return await this.handleUnauthorized(s.status),s}async post(e,t,s){let a=await fetch(this.buildUrl(e),{method:"POST",headers:{"Content-Type":"application/json",...this.getAuthHeaders(),...null==s?void 0:s.headers},body:t?JSON.stringify(t):void 0,...s});return await this.handleUnauthorized(a.status),a}async put(e,t,s){let a=await fetch(this.buildUrl(e),{method:"PUT",headers:{"Content-Type":"application/json",...this.getAuthHeaders(),...null==s?void 0:s.headers},body:t?JSON.stringify(t):void 0,...s});return await this.handleUnauthorized(a.status),a}async patch(e,t,s){let a=await fetch(this.buildUrl(e),{method:"PATCH",headers:{"Content-Type":"application/json",...this.getAuthHeaders(),...null==s?void 0:s.headers},body:t?JSON.stringify(t):void 0,...s});return await this.handleUnauthorized(a.status),a}async delete(e,t){let s=await fetch(this.buildUrl(e),{method:"DELETE",headers:{"Content-Type":"application/json",...this.getAuthHeaders(),...null==t?void 0:t.headers},...t});return await this.handleUnauthorized(s.status),s}async uploadFile(e,t,s){let a=new FormData;a.append("file",t),s&&Object.entries(s).forEach(e=>{let[t,s]=e;a.append(t,String(s))});let r=await fetch(this.buildUrl(e),{method:"POST",headers:{...this.getAuthHeaders()},body:a});return await this.handleUnauthorized(r.status),r}async handleResponse(e){if(!e.ok){let t="HTTP ".concat(e.status,": ").concat(e.statusText);try{let s=await e.json();t=s.message||s.error||t}catch(e){}throw new r(t,e.status,e)}let t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():e.text()}constructor(){this.isHandlingUnauthorized=!1}}let i=new n},8145:(e,t,s)=>{"use strict";s.d(t,{E:()=>c});var a=s(5155);s(2115);var r=s(6634),n=s(2085),i=s(3999);let l=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:s,asChild:n=!1,...c}=e,o=n?r.DX:"span";return(0,a.jsx)(o,{"data-slot":"badge",className:(0,i.cn)(l({variant:s}),t),...c})}},9026:(e,t,s)=>{"use strict";s.d(t,{Fc:()=>l,TN:()=>o,XL:()=>c});var a=s(5155);s(2115);var r=s(2085),n=s(3999);let i=(0,r.F)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,n.cn)(i({variant:s}),t),...r})}function c(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"alert-title",className:(0,n.cn)("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",t),...s})}function o(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"alert-description",className:(0,n.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...s})}},9074:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},9840:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>h,Es:()=>m,L3:()=>x,c7:()=>u,lG:()=>l,rr:()=>p,zM:()=>c});var a=s(5155);s(2115);var r=s(85),n=s(4416),i=s(3999);function l(e){let{...t}=e;return(0,a.jsx)(r.bL,{"data-slot":"dialog",...t})}function c(e){let{...t}=e;return(0,a.jsx)(r.l9,{"data-slot":"dialog-trigger",...t})}function o(e){let{...t}=e;return(0,a.jsx)(r.ZL,{"data-slot":"dialog-portal",...t})}function d(e){let{className:t,...s}=e;return(0,a.jsx)(r.hJ,{"data-slot":"dialog-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function h(e){let{className:t,children:s,showCloseButton:l=!0,...c}=e;return(0,a.jsxs)(o,{"data-slot":"dialog-portal",children:[(0,a.jsx)(d,{}),(0,a.jsxs)(r.UC,{"data-slot":"dialog-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...c,children:[s,l&&(0,a.jsxs)(r.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(n.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function u(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,i.cn)("flex flex-col gap-2 text-center sm:text-left",t),...s})}function m(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,i.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...s})}function x(e){let{className:t,...s}=e;return(0,a.jsx)(r.hE,{"data-slot":"dialog-title",className:(0,i.cn)("text-lg leading-none font-semibold",t),...s})}function p(e){let{className:t,...s}=e;return(0,a.jsx)(r.VY,{"data-slot":"dialog-description",className:(0,i.cn)("text-muted-foreground text-sm",t),...s})}}},e=>{var t=t=>e(e.s=t);e.O(0,[8823,7715,7501,2717,2286,85,5646,1926,8441,1684,7358],()=>t(4195)),_N_E=e.O()}]);